/* CREATE TABLE */
CREATE TABLE IF NOT EXISTS PROJECTS(
    ID INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    NAME TEXT NOT NULL CHECK (NAME <> ''),
    PRIORITY INTEGER NOT NULL,
    DESCRIPTION TEXT,
    DELIVERYDATE DATE NOT NULL
);

CREATE TABLE IF NOT EXISTS TASKS(
    ID INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    NAME TEXT NOT NULL CHECK (NAME <> ''),
    DONE BOOLEAN,
    PROJECT_ID INTEGER REFERENCES PROJECTS(ID)
);

INSERT INTO PROJECTS(NAME, PRIORITY, DESCRIPTION, DELIVERYDATE)
    VALUES('Make a Web App', 1, 'JS', '2019-10-01');

INSERT INTO PROJECTS(NAME, PRIORITY, DESCRIPTION, DELIVERYDATE)
    VALUES('Make an App', 1, 'PostgresSQL', '2019-10-15');

INSERT INTO PROJECTS(NAME, PRIORITY, DESCRIPTION, DELIVERYDATE)
    VALUES('Make an Server', 2, 'NodeJS', '2019-10-25');

INSERT INTO TASKS(NAME, DONE, PROJECT_ID)
    VALUES('Leans JS', false, 1);

INSERT INTO TASKS(NAME, DONE, PROJECT_ID)
    VALUES('Leans about server', true, 1);